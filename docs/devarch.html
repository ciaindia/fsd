<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Development Architecture - GitHub Workflow</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.6.1/mermaid.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, #24292e 0%, #1a1e22 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        
        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .content {
            padding: 40px;
        }
        
        .section {
            margin-bottom: 40px;
        }
        
        h2 {
            color: #2d3748;
            font-size: 1.8em;
            margin-bottom: 20px;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }
        
        h3 {
            color: #4a5568;
            font-size: 1.4em;
            margin-top: 25px;
            margin-bottom: 15px;
        }
        
        .description {
            background: #f7fafc;
            padding: 25px;
            border-radius: 10px;
            border-left: 5px solid #667eea;
            margin-bottom: 30px;
            line-height: 1.8;
        }
        
        .workflow-steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .step-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            transition: transform 0.3s ease;
        }
        
        .step-card:hover {
            transform: translateY(-5px);
        }
        
        .step-card h3 {
            font-size: 1.3em;
            margin-bottom: 15px;
            margin-top: 0;
            border-bottom: 2px solid rgba(255,255,255,0.3);
            padding-bottom: 10px;
            color: white;
        }
        
        .step-card ul {
            list-style: none;
            padding-left: 0;
        }
        
        .step-card li {
            padding: 8px 0;
            padding-left: 25px;
            position: relative;
        }
        
        .step-card li:before {
            content: "‚Üí";
            position: absolute;
            left: 0;
            font-weight: bold;
        }
        
        .mermaid-container {
            background: #f7fafc;
            padding: 30px;
            border-radius: 15px;
            overflow-x: auto;
            box-shadow: inset 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .environment-badges {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin: 20px 0;
        }
        
        .badge {
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: bold;
            text-transform: uppercase;
            font-size: 0.9em;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        }
        
        .badge.github {
            background: #24292e;
            color: white;
        }
        
        .badge.jenkins {
            background: #d73a49;
            color: white;
        }
        
        .badge.uat {
            background: #f9a825;
            color: white;
        }
        
        .badge.production {
            background: #28a745;
            color: white;
        }
        
        .prereq-list {
            background: #edf2f7;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .prereq-list ul {
            list-style: none;
            padding-left: 0;
        }
        
        .prereq-list li {
            padding: 10px 0;
            padding-left: 35px;
            position: relative;
            line-height: 1.6;
        }
        
        .prereq-list li:before {
            content: "‚úì";
            position: absolute;
            left: 10px;
            color: #28a745;
            font-weight: bold;
            font-size: 1.2em;
        }
        
        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            line-height: 1.6;
        }
        
        .code-block code {
            color: #68d391;
        }
        
        .warning-box {
            background: #fff5f5;
            border-left: 5px solid #fc8181;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .warning-box h3 {
            color: #c53030;
            margin-top: 0;
        }
        
        .info-box {
            background: #ebf8ff;
            border-left: 5px solid #4299e1;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .info-box h3 {
            color: #2c5282;
            margin-top: 0;
        }
        
        .troubleshoot-item {
            background: white;
            border: 2px solid #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            transition: all 0.3s ease;
        }
        
        .troubleshoot-item:hover {
            border-color: #667eea;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.2);
        }
        
        .troubleshoot-item h4 {
            color: #2d3748;
            margin-bottom: 10px;
        }
        
        .solution {
            color: #2f855a;
            font-weight: bold;
            margin-top: 10px;
        }
        
        @media (max-width: 768px) {
            h1 {
                font-size: 1.8em;
            }
            
            .workflow-steps {
                grid-template-columns: 1fr;
            }
            
            .content {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üîÑ Development Architecture</h1>
            <p class="subtitle">GitHub-Based CI/CD Workflow with Jenkins</p>
        </header>
        
        <div class="content">
            <!-- Prerequisites Section -->
            <div class="section">
                <h2>üìã Prerequisites</h2>
                <div class="description">
                    Before starting with this workflow, ensure all team members have the following set up properly.
                </div>
                
                <div class="prereq-list">
                    <ul>
                        <li><strong>Git Installation:</strong> Git must be installed on all developer machines
                            <div class="code-block">
                                # Check if Git is installed<br>
                                <code>git --version</code><br><br>
                                # Download from: https://git-scm.com/downloads
                            </div>
                        </li>
                        <li><strong>GitHub Account:</strong> Each developer needs a GitHub account (https://github.com/signup)</li>
                        <li><strong>Repository Access:</strong> All developers must have appropriate permissions (write access) to the repository</li>
                        <li><strong>SSH Keys Setup:</strong> Configure SSH keys for secure authentication
                            <div class="code-block">
                                # Generate SSH key<br>
                                <code>ssh-keygen -t ed25519 -C "your_email@example.com"</code><br><br>
                                # Add SSH key to GitHub account<br>
                                # Copy the public key and add it to GitHub ‚Üí Settings ‚Üí SSH Keys
                            </div>
                        </li>
                        <li><strong>Git Configuration:</strong> Configure user name and email
                            <div class="code-block">
                                <code>git config --global user.name "Your Name"</code><br>
                                <code>git config --global user.email "your_email@example.com"</code>
                            </div>
                        </li>
                        <li><strong>Jenkins Setup:</strong> Jenkins server configured with GitHub integration</li>
                        <li><strong>Server Access:</strong> Appropriate permissions for UAT and Production servers</li>
                    </ul>
                </div>
            </div>

            <!-- Overview Section -->
            <div class="section">
                <h2>üìñ Overview</h2>
                <div class="description">
                    This architecture illustrates a comprehensive GitHub-based development workflow that supports multiple developers working simultaneously on frontend and backend components. The system uses Jenkins for continuous integration and rsync for deployment automation across UAT and production environments. The main branch (previously known as master) serves as the primary integration point.
                </div>
                
                <div class="environment-badges">
                    <span class="badge github">GitHub Repository</span>
                    <span class="badge jenkins">Jenkins CI/CD</span>
                    <span class="badge uat">UAT Environment</span>
                    <span class="badge production">Production Environment</span>
                </div>
            </div>
            
            <!-- Workflow Process -->
            <div class="section">
                <h2>üîÄ Workflow Process</h2>
                <div class="workflow-steps">
                    <div class="step-card">
                        <h3>1. Development Phase</h3>
                        <ul>
                            <li>7 developers work on separate branches (dev1-dev7)</li>
                            <li>Each developer works on their local PC</li>
                            <li>Code includes /bend (backend) and /fend (frontend)</li>
                            <li>Developers push changes to their branches</li>
                            <li>Regular pulls to stay updated with dev branch</li>
                        </ul>
                    </div>
                    
                    <div class="step-card">
                        <h3>2. Integration Phase</h3>
                        <ul>
                            <li>All dev branches merge into 'dev' branch</li>
                            <li>Conflict resolution happens here</li>
                            <li>Dev branch syncs with 'main' branch</li>
                            <li>Code review before merging to main</li>
                            <li>Jenkins monitors repository changes</li>
                        </ul>
                    </div>
                    
                    <div class="step-card">
                        <h3>3. Deployment Phase</h3>
                        <ul>
                            <li>Jenkins pulls latest code from main</li>
                            <li>Code is rsynced to UAT environment</li>
                            <li>After UAT approval, rsync to production</li>
                            <li>Excludes files via .gitignore and .releaseignore</li>
                            <li>Rollback plan in case of issues</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <!-- Architecture Flowchart -->
            <div class="section">
                <h2>üìä Architecture Flowchart</h2>
                <div class="mermaid-container">
                    <div class="mermaid">
graph TB
    subgraph Developers["üë• Development Team"]
        DEV1[DEV PC 1<br/>Branch: dev1]
        DEV2[DEV PC 2<br/>Branch: dev2]
        DEV3[DEV PC 3<br/>Branch: dev3]
        DEV4[DEV PC 4<br/>Branch: dev4]
        DEV5[DEV PC 5<br/>Branch: dev5]
        DEV6[DEV PC 6<br/>Branch: dev6]
        DEV7[DEV PC 7<br/>Branch: dev7]
    end
    
    subgraph GitHub["üêô GitHub Repository"]
        DEV_BRANCH[Dev Branch<br/>/bend /fend<br/>/docs]
        MAIN[Main Branch<br/>/bend /fend<br/>/docs<br/>.gitignore<br/>.releaseignore]
    end
    
    subgraph CI["üîß CI/CD Pipeline"]
        JENKINS[Jenkins<br/>Continuous Integration]
    end
    
    subgraph Environments["üåê Deployment Environments"]
        UAT[UAT Environment<br/>/bend /fend]
        PROD[Production Environment<br/>/bend /fend]
    end
    
    DEV1 -->|PUSH| DEV_BRANCH
    DEV2 -->|PUSH| DEV_BRANCH
    DEV3 -->|PUSH| DEV_BRANCH
    DEV4 -->|PUSH| DEV_BRANCH
    DEV5 -->|PUSH| DEV_BRANCH
    DEV6 -->|PUSH| DEV_BRANCH
    DEV7 -->|PUSH| DEV_BRANCH
    
    DEV_BRANCH -->|MERGE| MAIN
    MAIN -->|RSYNC| DEV_BRANCH
    
    MAIN -->|PULL| JENKINS
    JENKINS -->|RSYNC| UAT
    UAT -->|RSYNC| PROD
    
    DEV1 -.->|PULL| DEV_BRANCH
    DEV2 -.->|PULL| DEV_BRANCH
    DEV3 -.->|PULL| DEV_BRANCH
    DEV4 -.->|PULL| DEV_BRANCH
    DEV5 -.->|PULL| DEV_BRANCH
    DEV6 -.->|PULL| DEV_BRANCH
    DEV7 -.->|PULL| DEV_BRANCH
    
    style DEV_BRANCH fill:#4299e1,stroke:#2b6cb0,stroke-width:3px,color:#fff
    style MAIN fill:#48bb78,stroke:#2f855a,stroke-width:3px,color:#fff
    style JENKINS fill:#ed8936,stroke:#c05621,stroke-width:3px,color:#fff
    style UAT fill:#f6ad55,stroke:#dd6b20,stroke-width:3px,color:#fff
    style PROD fill:#68d391,stroke:#38a169,stroke-width:3px,color:#fff
                    </div>
                </div>
            </div>

            <!-- Troubleshooting Section -->
            <div class="section">
                <h2>üîß Troubleshooting Common Push Issues</h2>
                
                <div class="troubleshoot-item">
                    <h4>‚ùå Error: "Permission denied (publickey)"</h4>
                    <p><strong>Cause:</strong> SSH key not configured properly or not added to GitHub account.</p>
                    <div class="solution">Solution:</div>
                    <div class="code-block">
                        # Test SSH connection<br>
                        <code>ssh -T git@github.com</code><br><br>
                        # If fails, add SSH key to ssh-agent<br>
                        <code>eval "$(ssh-agent -s)"</code><br>
                        <code>ssh-add ~/.ssh/id_ed25519</code><br><br>
                        # Add the public key to GitHub (Settings ‚Üí SSH Keys)
                    </div>
                </div>

                <div class="troubleshoot-item">
                    <h4>‚ùå Error: "Failed to push some refs"</h4>
                    <p><strong>Cause:</strong> Remote repository has changes that you don't have locally.</p>
                    <div class="solution">Solution:</div>
                    <div class="code-block">
                        # Pull the latest changes first<br>
                        <code>git pull origin dev1</code><br><br>
                        # Resolve any conflicts if they occur<br>
                        # Then push again<br>
                        <code>git push origin dev1</code>
                    </div>
                </div>

                <div class="troubleshoot-item">
                    <h4>‚ùå Error: "Repository not found"</h4>
                    <p><strong>Cause:</strong> Incorrect repository URL or lack of access permissions.</p>
                    <div class="solution">Solution:</div>
                    <div class="code-block">
                        # Check current remote URL<br>
                        <code>git remote -v</code><br><br>
                        # Update remote URL if incorrect<br>
                        <code>git remote set-url origin git@github.com:username/repo.git</code><br><br>
                        # Verify access with repository owner
                    </div>
                </div>

                <div class="troubleshoot-item">
                    <h4>‚ùå Error: "Large file detected"</h4>
                    <p><strong>Cause:</strong> Trying to push files larger than GitHub's limit (100MB).</p>
                    <div class="solution">Solution:</div>
                    <div class="code-block">
                        # Use Git LFS for large files<br>
                        <code>git lfs install</code><br>
                        <code>git lfs track "*.psd"</code><br>
                        <code>git add .gitattributes</code><br><br>
                        # Or add large files to .gitignore
                    </div>
                </div>

                <div class="troubleshoot-item">
                    <h4>‚ùå Error: "Authentication failed"</h4>
                    <p><strong>Cause:</strong> Incorrect credentials or token expired.</p>
                    <div class="solution">Solution:</div>
                    <div class="code-block">
                        # For HTTPS, use Personal Access Token (not password)<br>
                        # Generate token: GitHub ‚Üí Settings ‚Üí Developer settings ‚Üí Personal access tokens<br><br>
                        # Store credentials<br>
                        <code>git config --global credential.helper store</code><br><br>
                        # Or switch to SSH authentication (recommended)
                    </div>
                </div>
            </div>

            <!-- Conflict Resolution Section -->
            <div class="section">
                <h2>‚öîÔ∏è Handling Merge Conflicts - Best Practices</h2>
                
                <div class="info-box">
                    <h3>Understanding Merge Conflicts</h3>
                    <p>Merge conflicts occur when two branches have made different changes to the same line of code, or when one branch deletes a file that another branch has modified. Git cannot automatically determine which change should take precedence.</p>
                </div>

                <h3>Step-by-Step Conflict Resolution Process</h3>

                <div class="troubleshoot-item">
                    <h4>Step 1: Pull Latest Changes</h4>
                    <div class="code-block">
                        # Always pull before starting work<br>
                        <code>git checkout dev1</code><br>
                        <code>git pull origin dev</code>
                    </div>
                    <p>This helps identify conflicts early, before you've made too many changes.</p>
                </div>

                <div class="troubleshoot-item">
                    <h4>Step 2: Identify Conflicted Files</h4>
                    <div class="code-block">
                        # Git will show conflicted files<br>
                        <code>git status</code><br><br>
                        # Look for files marked as "both modified"
                    </div>
                    <p>Conflicted files will contain conflict markers in the code.</p>
                </div>

                <div class="troubleshoot-item">
                    <h4>Step 3: Open and Review Conflicts</h4>
                    <p>Conflict markers look like this:</p>
                    <div class="code-block">
                        &lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD (Your changes)<br>
                        const apiUrl = "https://new-api.example.com";<br>
                        =======<br>
                        const apiUrl = "https://old-api.example.com";<br>
                        &gt;&gt;&gt;&gt;&gt;&gt;&gt; dev (Incoming changes)
                    </div>
                </div>

                <div class="troubleshoot-item">
                    <h4>Step 4: Resolve the Conflict</h4>
                    <p><strong>Choose one of these strategies:</strong></p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li><strong>Keep your changes:</strong> Remove the conflict markers and keep the code between HEAD and =======</li>
                        <li><strong>Keep incoming changes:</strong> Remove the conflict markers and keep the code between ======= and the branch name</li>
                        <li><strong>Keep both changes:</strong> Merge both pieces of code logically</li>
                        <li><strong>Write new code:</strong> Sometimes neither version is correct; write a new solution</li>
                    </ul>
                    <div class="code-block" style="margin-top: 15px;">
                        # After resolving, the file should look clean:<br>
                        const apiUrl = "https://new-api.example.com"; // Chosen solution
                    </div>
                </div>

                <div class="troubleshoot-item">
                    <h4>Step 5: Mark as Resolved and Commit</h4>
                    <div class="code-block">
                        # Add the resolved files<br>
                        <code>git add &lt;resolved-file&gt;</code><br><br>
                        # Or add all resolved files<br>
                        <code>git add .</code><br><br>
                        # Commit the merge<br>
                        <code>git commit -m "Resolved merge conflicts between dev1 and dev"</code><br><br>
                        # Push the changes<br>
                        <code>git push origin dev1</code>
                    </div>
                </div>

                <div class="warning-box">
                    <h3>‚ö†Ô∏è Important Tips for Conflict Resolution</h3>
                    <ul style="margin-left: 20px; margin-top: 10px; line-height: 1.8;">
                        <li><strong>Test after resolving:</strong> Always test your code after resolving conflicts to ensure nothing broke</li>
                        <li><strong>Communicate with team:</strong> If unsure which change to keep, discuss with the other developer</li>
                        <li><strong>Never blindly accept all changes:</strong> Review each conflict carefully</li>
                        <li><strong>Use merge tools:</strong> Consider using VS Code, GitKraken, or other merge tools for visual conflict resolution</li>
                        <li><strong>Commit frequently:</strong> Smaller, frequent commits lead to fewer and simpler conflicts</li>
                        <li><strong>Pull regularly:</strong> Pull from the dev branch daily to stay synchronized</li>
                    </ul>
                </div>

                <h3>Using VS Code for Conflict Resolution</h3>
                <div class="info-box">
                    <p>VS Code provides a visual interface for resolving conflicts:</p>
                    <ul style="margin-left: 20px; margin-top: 10px; line-height: 1.8;">
                        <li>Click "Accept Current Change" to keep your version</li>
                        <li>Click "Accept Incoming Change" to accept the other version</li>
                        <li>Click "Accept Both Changes" to keep both versions</li>
                        <li>Manually edit the code to create a custom solution</li>
                    </ul>
                </div>

                <h3>Avoiding Conflicts - Prevention Strategies</h3>
                <div class="troubleshoot-item">
                    <h4>Best Practices to Minimize Conflicts</h4>
                    <ul style="margin-left: 20px; margin-top: 10px; line-height: 1.8;">
                        <li><strong>Coordinate work:</strong> Assign different files/modules to different developers</li>
                        <li><strong>Pull before push:</strong> Always pull the latest changes before pushing</li>
                        <li><strong>Frequent integration:</strong> Merge your branch into dev regularly</li>
                        <li><strong>Small commits:</strong> Make small, focused commits rather than large ones</li>
                        <li><strong>Code reviews:</strong> Review code before merging to catch potential conflicts</li>
                        <li><strong>Communication:</strong> Inform team members when working on shared files</li>
                        <li><strong>Feature branches:</strong> Use separate branches for separate features</li>
                    </ul>
                </div>
            </div>

            <!-- Key Components -->
            <div class="section">
                <h2>üîë Key Components</h2>
                <div class="description">
                    <strong>Repository Structure:</strong>
                    <ul style="margin-top: 10px; padding-left: 20px; line-height: 1.8;">
                        <li><strong>/bend</strong> - Backend application code</li>
                        <li><strong>/fend</strong> - Frontend application code</li>
                        <li><strong>/docs</strong> - Project documentation</li>
                        <li><strong>.gitignore</strong> - Files excluded from version control (e.g., node_modules, .env files)</li>
                        <li><strong>.releaseignore</strong> - Files excluded from deployment (e.g., test files, development configs)</li>
                    </ul>
                </div>

                <h3>Common Git Commands Reference</h3>
                <div class="code-block">
                    # Clone repository<br>
                    <code>git clone git@github.com:username/repo.git</code><br><br>
                    
                    # Create and switch to new branch<br>
                    <code>git checkout -b dev1</code><br><br>
                    
                    # Check status<br>
                    <code>git status</code><br><br>
                    
                    # Add files<br>
                    <code>git add .</code><br><br>
                    
                    # Commit changes<br>
                    <code>git commit -m "Description of changes"</code><br><br>
                    
                    # Push to GitHub<br>
                    <code>git push origin dev1</code><br><br>
                    
                    # Pull latest changes<br>
                    <code>git pull origin dev</code><br><br>
                    
                    # View branches<br>
                    <code>git branch -a</code><br><br>
                    
                    # Switch branches<br>
                    <code>git checkout dev</code>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis'
            }
        });
    </script>
</body>
</html>
